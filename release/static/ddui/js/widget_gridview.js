define("gridview",function(t,a,i){function e(t,a){var i="",e=u(t);e.forEach(function(t){i+='<td ><div class="ddui-gridview-title '+t.className+' " >{{tr.'+t.text+"}}</div></td>"});var r="";return a&&a.forEach(function(t){r+=v[t]}),i+='<td ><div class="ddui-gridview-col-action color-orange" >'+r+"</div></td>"}function r(t,a){var i=e(t,a),r=p.replace("{{tbody}}",i);Vue.component("gridview-component",{inherit:!0,replace:!0,template:r,methods:{viewClick:function(t,a){for(var i=a.target;"a"!==i.nodeName.toLowerCase();)i=i.parentNode;this.$dispatch("viewClick",i,t)}}})}function d(t){r(t.tbody,t.tool);var a={},i=n(t);return a.gridview_vue=i,a.url=t.url,a.param=t.param,a.pageIndex=1,a.pageDom=$(t.id).find(".j_gridViewPage"),a.isFormat=t.isFormat||!1,a.tool=t.tool,a.formatData=t.formatData,a.changeData=o,s(a),l(a),a}function n(t){var a=new Vue({el:t.id,data:{grid:{thead:u(t.thead),data:[]}}});return t.viewClick&&"function"==typeof t.viewClick&&a.$on("viewClick",function(a,i){t.viewClick(a,i)}),a}function o(t){this.param=t,this.pageIndex=1,s(this)}function c(t,a){return t.isFormat&&a.forEach(function(a){t.tool.forEach(function(t){a[t]=a[t]||!0})}),a}function s(t){var a=t.url,i=t.param,e=t.gridview_vue,r=t.pageDom,d=t.pageIndex;i.pageIndex=d,$.get(a,i,function(a){if(a&&a.data){var i=a.data;t.formatData&&"function"==typeof t.formatData&&(i=t.formatData(i)),e.grid.data=c(t,i);var n=a.total_num;f.createPage({dom:r,index:d||1,total:n||1})}},"json")}function l(t){t.pageDom.on("click",function(a){var i=a.target,e=i.getAttribute("i");null!==e&&(t.pageIndex=e-0,s(t))})}function u(t){var a=[];return t.forEach(function(t){a.push("object"==typeof t?t:{text:t})}),a}var f=t("page"),v={isEdit:'<template v-if="tr.isEdit"><a href="#" target="_blank"  class="ddui-action-item" data-type="edit" v-attr="data-id:tr.id"><i class="iconfont ddui-icon-bianji" data-type="edit" v-attr="data-id:tr.id"></i>编辑</a></template>',isCopy:'<template v-if="tr.isCopy"><a  href="#" class="ddui-action-item" data-type="copy" v-attr="data-id:tr.id"><i class="iconfont ddui-icon-quanbuwenshufuzhi" data-type="copy" v-attr="data-id:tr.id"></i>复制</a></template>',isSearch:'<template v-if="tr.isSearch"><a href="#" target="_blank" class="ddui-action-item" data-type="search" v-attr="data-id:tr.id"><i class="iconfont ddui-icon-sousuo" data-type="search" v-attr="data-id:tr.id"></i>查看</a> </template>'},p='\r\n		<table border-space="0" class="ddui-gridview-table" >\r\n			<thead >\r\n				<tr>\r\n				<td v-repeat="thead:grid.thead" class="{{thead.className}}">{{thead.text}}</td>\r\n				<!--<td class="gridview-col-action">操作</td>-->		 \r\n			</tr>\r\n			</thead>\r\n			<tbody >\r\n			<tr v-repeat="tr:grid.data" v-on="click:viewClick(this,$event)">\r\n				{{tbody}}	 \r\n				</tr>\r\n				 \r\n			</tbody>\r\n		</table>	\r\n		<div class="page-box ">\r\n            <ol class="ep-pages  j_gridViewPage"></ol>\r\n        </div>',g={};g.init=d,i.exports=g});